{% extends "main.html" %}
{% block title %}{{ product|default:"Add Product" }}{% endblock %}

{% block content %}
<div class="mx-auto mt-10 w-full max-w-2xl px-4">
  <div class="rounded-xl border border-gray-200 bg-white p-6 shadow-sm">
    <h1 class="mb-6 text-2xl font-bold text-gray-900">
      {% if product %}Edit Product{% else %}Add Product{% endif %}
    </h1>

    <form method="post" class="form-style space-y-4">
      {% csrf_token %}
      {{ form.as_p }}
      <button type="submit"
              class="w-full rounded-lg bg-emerald-600 px-4 py-2 font-medium text-white transition hover:bg-emerald-700">
        Save
      </button>
    </form>

    {% if product %}
      <form method="post" action="{% url 'main:product_delete' product.id %}" class="mt-4">
        {% csrf_token %}
        <button type="submit"
                onclick="return confirm('Are you sure you want to delete this product?')"
                class="w-full rounded-lg bg-red-600 px-4 py-2 font-medium text-white transition hover:bg-red-700">
          Delete
        </button>
      </form>
    {% endif %}

    <p class="mt-6 text-center text-sm">
      <a href="{% url 'main:product_list' %}" 
         class="text-emerald-700 hover:text-emerald-800">
        ‚Üê Back to Products
      </a>
    </p>
  </div>
</div>
{% endblock %}
