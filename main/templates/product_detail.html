{% extends "main.html" %}
{% block title %}{{ product.name }}{% endblock %}

{% block content %}
<div class="mx-auto mt-10 w-full max-w-2xl px-4">
  <div class="rounded-xl border border-gray-200 bg-white p-6 shadow-sm">
    <a href="{% url 'main:product_list' %}" 
       class="mb-4 inline-block text-sm font-medium text-emerald-700 hover:text-emerald-800">
      ← Back to Products
    </a>

    <h1 class="mb-4 text-3xl font-bold text-gray-900">{{ product.name }}</h1>

    <div class="mb-6 flex flex-col items-center">
      <img src="{{ product.thumbnail }}" 
           alt="{{ product.name }}" 
           class="h-60 w-full rounded-lg object-cover md:w-80 md:h-80">
    </div>

    <dl class="grid grid-cols-1 gap-x-6 gap-y-4 text-sm sm:grid-cols-2">
      <div>
        <dt class="font-semibold text-gray-700">Category</dt>
        <dd class="text-gray-900">{{ product.category }}</dd>
      </div>

      <div>
        <dt class="font-semibold text-gray-700">Size</dt>
        <dd class="text-gray-900">{{ product.get_size_display }}</dd>
      </div>

      <div>
        <dt class="font-semibold text-gray-700">Stock</dt>
        <dd class="text-gray-900">{{ product.stock }} ({{ product.stock_status }})</dd>
      </div>

      <div>
        <dt class="font-semibold text-gray-700">Featured</dt>
        <dd class="text-gray-900">
          {% if product.is_featured %} ✅ Yes {% else %} ❌ No {% endif %}
        </dd>
      </div>

      <div>
        <dt class="font-semibold text-gray-700">On Sale</dt>
        <dd class="text-gray-900">
          {% if product.for_sale %} ✅ Yes {% else %} ❌ No {% endif %}
        </dd>
      </div>

      <div>
        <dt class="font-semibold text-gray-700">Price</dt>
        <dd class="text-gray-900">
          {% if product.for_sale %}
            <s class="text-gray-500">Rp {{ product.price }}</s> →
            <span class="font-semibold text-emerald-700">Rp {{ product.discount_status }}</span>
          {% else %}
            <span class="font-semibold">Rp {{ product.price }}</span>
          {% endif %}
        </dd>
      </div>
    </dl>

    <div class="mt-6">
      <h2 class="mb-2 text-lg font-semibold text-gray-800">Description</h2>
      <p class="text-gray-700">{{ product.description }}</p>
    </div>

    <div class="mt-6 text-sm text-gray-600">
      <span class="font-medium">Data:</span>
      <a href="{% url 'main:show_xml_by_id' product.pk %}" 
         class="ml-1 text-emerald-700 hover:text-emerald-800">XML</a> •
      <a href="{% url 'main:show_json_by_id' product.pk %}" 
         class="ml-1 text-emerald-700 hover:text-emerald-800">JSON</a>
    </div>
  </div>
</div>
{% endblock %}
